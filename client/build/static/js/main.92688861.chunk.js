(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{106:function(n,e,t){"use strict";t.r(e);var o,i,r=t(5),a=t.n(r),c=t(79),s=t.n(c),l=(t(91),t(3)),u=t(20),d=t(84),g=t(118),f=t(120),h=t(117),w=t(82),v=(t(76),t(11),t(31),t(39),t(12),t(121),t(65)),k=t(119),m=(Object(k.a)(o||(o=Object(v.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),Object(k.a)(i||(i=Object(v.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),t(41)),p=t(42),b=t(66),j=t.n(b),O=(new(function(){function n(){Object(m.a)(this,n)}return Object(p.a)(n,[{key:"getProfile",value:function(){return j()(this.getToken())}},{key:"loggedIn",value:function(){var n=this.getToken();return!!n&&!this.isTokenExpired(n)}},{key:"isTokenExpired",value:function(n){try{return j()(n).exp<Date.now()/1e3}catch(e){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(n){localStorage.setItem("id_token",n),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),n}()),t(26),t(81),t(6));t(51),t(69),t(37);var S=Object(d.a)({uri:"/graphql"}),y=Object(w.a)((function(n,e){var t=e.headers,o=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},t),{},{authorization:o?"Bearer ".concat(o):""})}})),$=new g.a({link:y.concat(S),cache:new f.a});var x=function(){return Object(O.jsx)(h.a,{client:$,children:Object(O.jsx)(u.a,{children:Object(O.jsx)("div",{})})})},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");N?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):W(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):W(e,n)}))}}()},91:function(n,e,t){}},[[106,1,2]]]);
//# sourceMappingURL=main.92688861.chunk.js.map